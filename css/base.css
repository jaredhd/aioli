/**
 * Aioli Design System — Base Styles
 * CSS reset, global defaults, dark mode, and utilities.
 * Depends on tokens.css being loaded first.
 */

/* ========================================================================
   RESET
   ======================================================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
}

body {
  font-family: var(--primitive-font-family-sans);
  color: var(--semantic-text-default);
  background-color: var(--semantic-surface-page-default);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
}

input,
button,
textarea,
select {
  font: inherit;
  color: inherit;
}

button {
  cursor: pointer;
  background: none;
  border: none;
}

a {
  color: inherit;
  text-decoration: none;
}

ul,
ol {
  list-style: none;
}

table {
  border-collapse: collapse;
  border-spacing: 0;
}

/* ========================================================================
   FOCUS
   ======================================================================== */

:focus-visible {
  outline: var(--semantic-focus-ring-width) var(--semantic-focus-ring-style) var(--semantic-focus-ring-color);
  outline-offset: var(--semantic-focus-ring-offset);
}

/* ========================================================================
   UTILITIES
   ======================================================================== */

.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ========================================================================
   REDUCED MOTION
   ======================================================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ========================================================================
   DARK MODE
   Activated via [data-theme="dark"] on <html> or any ancestor.
   Remaps semantic light-mode variables to their dark counterparts.
   ======================================================================== */

[data-theme="dark"] {
  /* Colors — intent */
  --semantic-color-primary-default: var(--semantic-color-dark-primary-default);
  --semantic-color-primary-hover: var(--semantic-color-dark-primary-hover);
  --semantic-color-primary-active: var(--semantic-color-dark-primary-active);
  --semantic-color-primary-subtle: var(--semantic-color-dark-primary-subtle);

  --semantic-color-success-default: var(--semantic-color-dark-success-default);
  --semantic-color-success-hover: var(--semantic-color-dark-success-hover);
  --semantic-color-success-subtle: var(--semantic-color-dark-success-subtle);

  --semantic-color-warning-default: var(--semantic-color-dark-warning-default);
  --semantic-color-warning-hover: var(--semantic-color-dark-warning-hover);
  --semantic-color-warning-subtle: var(--semantic-color-dark-warning-subtle);

  --semantic-color-danger-default: var(--semantic-color-dark-danger-default);
  --semantic-color-danger-hover: var(--semantic-color-dark-danger-hover);
  --semantic-color-danger-subtle: var(--semantic-color-dark-danger-subtle);

  --semantic-color-info-default: var(--semantic-color-dark-info-default);
  --semantic-color-info-hover: var(--semantic-color-dark-info-hover);
  --semantic-color-info-subtle: var(--semantic-color-dark-info-subtle);

  /* Surfaces */
  --semantic-surface-page-default: var(--semantic-surface-dark-page-default);
  --semantic-surface-page-subtle: var(--semantic-surface-dark-page-subtle);
  --semantic-surface-card-default: var(--semantic-surface-dark-card-default);
  --semantic-surface-card-hover: var(--semantic-surface-dark-card-hover);

  /* Borders */
  --semantic-border-default: var(--semantic-border-dark-default);
  --semantic-border-subtle: var(--semantic-border-dark-subtle);
  --semantic-border-strong: var(--semantic-border-dark-strong);
  --semantic-border-focus: var(--semantic-border-dark-focus);

  /* Text */
  --semantic-text-default: var(--semantic-text-dark-default);
  --semantic-text-muted: var(--semantic-text-dark-muted);
  --semantic-text-disabled: var(--semantic-text-dark-disabled);
  --semantic-text-inverse: var(--semantic-text-dark-inverse);
  --semantic-text-link: var(--semantic-text-dark-link);

  /* Focus */
  --semantic-focus-ring-color: var(--semantic-border-dark-focus);

  color-scheme: dark;
}
